<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
                <section>

                </section>

                <section>
                    <h2>Arrow functions (1)</h2>
                    <pre class="fragment"><code class="javascript">let square = function(x) {
    return x * x;
}</code></pre>
                    <pre class="fragment"><code class="javascript">let square = x => x * x;</code></pre>
                    <pre class="fragment"><code class="javascript">[1, 2, 3, 4].map(x => x * x);</code></pre>
                    <pre class="fragment"><code class="javascript">[1, 2, 3, 4].map((value, key) => value * key);</code></pre>
                    <pre class="fragment"><code class="javascript">[1, 2, 3, 4].forEach(() => console.log('New array value'));</code></pre>
                    <pre class="fragment"><code class="javascript">[1, 2, 3, 4].map((value, key) => {
    console.log(`New array value ${value}`);
    return value * key
});</code></pre>
                </section>

                <section>
                    <h2>Arrow functions (2)</h2>
                    <pre class="fragment"><code class="javascript">function Paging(nextPageCallback) {
    this.nextPageCallback = nextPageCallback;
    this.items = []
}

Paging.prototype.nextPage = function() {
    this.nextPageCallback().then(function(newItems) {
        this.items.push(...newItems);
    }.bind(this));
}</code></pre>
                    <pre class="fragment"><code class="javascript">Paging.prototype.nextPage = function() {
    this.nextPageCallback().then(
        newItems => this.items.push(...newItems));
    });
}</code></pre>
                </section>

                <section>
                    <h2>Symbols — A New Primitive Type</h2>
                    <pre><code class="javascript">let key1 = Symbol('key');
let key2 = Symbol('key');

key1 == key2; // false

let obj = {
    [key1]: 2
};

obj[key2] = 3 + obj[key1];</code></pre>
                </section>

                <section>
                    <h2>Why Symbols — Avoiding Name Clashes — Keeping Them Private</h2>
                    <pre><code class="javascript">let hash = Symbol(); // don't share

function calculateHashCode(obj) { ... }

function hashCode(obj) {
    if (!(hash in obj)) {
        obj[hash] = calculateHashCode(obj);
    }

    return obj[hash];
}</code></pre>
                </section>

                <section>
                    <h2>Why Symbols — Avoiding Name Clashes — For Public Interface</h2>
                    <pre><code class="javascript">let obj = {
    [Symbol.toStringTag]() {
        return 'obj';
    }
};

obj.toString(); // 'obj'</code></pre>

                    <ul class="fragment">
                        <li><code>Symbol.iterator</code></li>
                        <li><code>Symbol.toPrimitive</code></li>
                        <li><code>Symbol.hasInstance </code></li>
                    </ul>
                </section>

                <section>
                    <h2>Why Symbols — Unique Constants (Typed Enums)</h2>
                    <pre><code class="javascript">let Color = {
    RED: Symbol(),
    GREEN: Symbol(),
    BLUE: Symbol(),
    PURPLE: Symbol()
}</code></pre>
                    <p class="fragment">Old approach — using string value. They have the problem that they may clash accidentally</p>
                    <pre class="fragment"><code class="javascript">function defineEnum(values) {
    return values.reduce((obj, value) =>
        Object.assign(obj, { [value]: Symbol() },
        {}
    );
}</code></pre>
                </section>

                <section>
                    <h2>Iterators (1)</h2>
                    <p>An object with <code>next</code> function, which returns a <code>{&nbsp;value:&nbsp;...,&nbsp;isDone:&nbsp;...&nbsp;}</code> object, representing the next value in a sequence</p>
                </section>

                <section>
                    <h2>Iterators (2)</h2>
                    <pre><code class="javascript">function createFactorialIterator(n) {
    let accumulator = 1;
    let current = 1;
    return {
        next: function() {
            if (current <= n) {
                accumulator *= current;
                current++;
                return { value: accumulator, isDone: false };
            } else {
                return { value: undefined; isDone: true };
            }
        }
    }
}
}</code></pre>
                </section>

                <section>
                    <h2>Iterators (3)</h2>
                    <pre><code class="javascript">let fact4 = createFactorialIterator(4);
fact4.next(); // { value: 1, isDone: false }
fact4.next(); // { value: 2, isDone: false }
fact4.next(); // { value: 6, isDone: false }
fact4.next(); // { value: 24, isDone: false }
fact4.next(); // { value: undefined, isDone: true }
fact4.next(); // { value: undefined, isDone: true }</code></pre>
                </section>

                <section>
                    <h2>Iterables</h2>
                    <p>An object with a key <code>Symbol.iterator</code> which returns an iterator</p>
                    <pre><code class="javascript">function createFactorialSequence(n) {
    return {
        [Symbol.iterator]: createFactorialIterator.bind(null, n)
    };
}</code></pre>
                    <p class="fragment">Such are arrays, strings, <code>Map</code>, <code>Set</code>, <code>NodeList</code>, some iterators, etc.</p>
                </section>

                <section>
                    <h2>For ... of ...</h2>
                    <pre class="fragment"><code class="javascript">let factSeq = createFactorialSequence(5);

for (let number of factSeq) {
    console.log(number);
}</code></pre>
                    <pre class="fragment"><code class="javascript">let people = [
    { id: 2, firstName: 'Josho', lastName: 'Moshev' },
    { id: 42, firstName: 'Pesho', lastName: 'Goshev' }
];

for (let {firstName, lastName} of people) {
    console.log(`${firstName} ${lastName}`);
}</code></pre>
                </section>

                <section>
                    <h2>Generators (1)</h2>
                    <pre><code class="javascript">function* simpleGenerator() {
    yield 3;
    yield 2;
    yield 1;
}

var gen = simpleGenerator();
console.log(gen.next()); // { value: 3, isDone: false }
console.log(gen.next()); // { value: 2, isDone: false }
console.log(gen.next()); // { value: 1, isDone: false }
console.log(gen.next()); // { value: undefined, isDone: true }</code></pre>
                    <pre class="fragment"><code class="javascript">for (let number of simpleGenerator()) {
    console.log(number);
}
// 3
// 2
// 1</code></pre>
                </section>

                <section>
                    <h2>Generators (2)</h2>
                    <pre><code class="javascript">function* fibonacciGenerator() {
    let [a, b] = [1, 1];
    while (true) {
        yield a;
        console.log('Generating next fibonacci');
        [a, b] = [b, a + b];
    }
}</code></pre>
                    <pre><code class="javascript">let fibSeq = fibonacciGenerator();
console.log(fibSeq.next());
// { value: 1, isDone: false }
console.log(fibSeq.next());
// Generating next fibonacci
// { value: 1, isDone: false }
console.log(fibSeq.next());
// Generating next fibonacci
// { value: 2, isDone: false }</code></pre>
                </section>

                <section>
                    <h2>Delegating Generators</h2>
                    <pre><code class="javascript">function* complexGenerator() {
    yield 'a';
    yield* createFactorialSequence(3);
    yield* 'Hi!'
    yield 5;
    yield* fibonacciGenerator();
}</code></pre>
                    <pre><code class="javascript">// a
// 1
// 2
// 6
// H
// i
// !
// 5
// 1
// 1
// 2
// ...</code></pre>
                </section>

                <section>
                    <h2>Deeper into Generators</h2>
                    <pre><code class="javascript">function* communicativeGenerator() {
    let response = yield 42;
    response = yield response + 24
    yield respone + 5;
}

var comGen = communicativeGenerator();
let result1 = comGen.next();
console.log(result1); // 42
let result2 = comGene.next(result1);
console.log(result2); // 66
comGen.throw(new Error(":("));</code></pre>
                </section>

                <section>
                    <h2>Generator - Let's Inverse the Control (1)</h2>
                    <pre><code class="javascript">let sumPromise = spawn(function*() {
    try {
        let a = yield asyncRequest(url1);
        let b = yield asyncRequest(url2);
        let c = yield asyncRequest(url3);
        let d = yield asyncRequest(url4, a + b + c);

        return a + b + c + d;
    } catch (e) {
        return 42;
    }
});</code></pre>
                </section>

                <section>
                    <h2>Generator - Let's Inverse the Control (2)</h2>
                    <pre><code class="javascript">let sumPromise = spawn(function*() {
    try {
        let [a, b, c] = yield [url1, url2, url3].map(asyncRequest);
        let d = yield asyncRequest(url4, a + b + c);

        return a + b + c + d;
    } catch (e) {
        return 42;
    }
});</code></pre>
                </section>

                <section>
                    <h2>Generator - Let's Inverse the Control (3)</h2>
                    <pre><code class="javascript">let sumPromise = (async function() {
    try {
        let [a, b, c] = await [url1, url2, url3].map(asyncRequest);
        let d = await asyncRequest(url4, a + b + c);

        return a + b + c + d;
    } catch (e) {
        return 42;
    }
})();</code></pre>
                </section>

                <section>
                    <h2>Modules (1)</h2>
                    <ul>
                        <li>Replacement for both CommonJS and AMD</li>
                        <li>Simple syntax</li>
                        <li>Both synchronous (on the server) and asynchronous (in the browser) module loading support</li>
                    </ul>
                </section>

                <section>
                    <h2>Modules (2)</h2>
                    <pre><code class="javascript">// lib/math.js
let square = x => x * x;
export square;

export function sum(...elements) {
    return elements.reduce((a, b) => a + b, 0);
}

export const sqrt = Math.sqrt;</code></pre>
                    <pre class="fragment"><code class="javascript">// main.js
import { sqrt as squareRoot, sum } from 'lib/math';

sum([2, 3, 4, 5].map(squareRoot));</code></pre>
                </section>

                <section>
                    <h2>Modules (3)</h2>
                    <pre><code class="javascript">import * from 'lib/math';
import * as math from 'lib/math';

export * from 'lib/math';
export { square as sqr, sum } from 'lib/math';

const PI = 3.14;
const E = 2.72;
export { PI, E };</code></pre>
                </section>

                <section>
                    <h2>Modules (4) - Default Exports</h2>
                    <pre><code class="javascript">// model/Person.js
export default class {
    ...
};

// main.js
import Person from 'model/Person';

var gosho = new Person('Gosho');</code></pre>
                </section>

                <section>
                    <h2>Modules (5)</h2>
                    <ul>
                        <li>Support for cyclic dependencies between modules</li>
                        <li class="fragment">Static module structure</li>
                        <li class="fragment">Dynamic loading is still supported:
                            <pre><code class="javascript">System.import('module')
    .then(module => ...)
    .catch(error => ...);</code></pre>
                        </li>
                        <li class="fragment"><code>&lt;module&gt;</code> tag for browsers</li>
                    </ul>
                </section>

                <section>
                    <h2>Other things</h2>
                    <ul>
                        <li>Tail recursion</li>
                        <li>Proxies</li>
                        <li>Reflect API</li>
                        <li>Better unicode support</li>
                        <li>Binary and octal literals — <code>0b10110011 === 179</code></li>
                    </ul>
                </section>

                <section>
                    <h2>The future - ES7 and beyond</h2>
                    <ul>
                        <li><code>Object.observe</code></li>
                        <li><code>async</code> and <code>await</code></li>
                        <li>Array/generator comprehensions</li>
                        <li>Typed objects</li>
                        <li>Macros</li>
                        <li>...</li>
                    </ul>
                </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
